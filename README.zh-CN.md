# Teable æ’åæ’ä»¶

ä¸€ä¸ª [Teable](https://teable.ai) æ’ä»¶ï¼Œä¸ºè¡¨æ ¼è®°å½•æä¾›è‡ªåŠ¨æ’ååŠŸèƒ½ã€‚

## ğŸ“º åŠŸèƒ½æ¼”ç¤º

![åŠŸèƒ½æ¼”ç¤º GIF](./image/20251120012132_rec_.gif)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ† **å¤šç§æ’åæ–¹æ³•** - æ ‡å‡†æ’åå’Œå¯†é›†æ’åç®—æ³•
- ğŸ¯ **å­—æ®µæ˜ å°„** - çµæ´»çš„æºå­—æ®µå’Œç›®æ ‡æ’åå­—æ®µé€‰æ‹©
- ğŸ“Š **åˆ†ç»„æ’å** - åœ¨ç‰¹å®šåˆ†ç»„å†…è®¡ç®—æ’å
- ğŸ”§ **é«˜çº§é…ç½®** - æ’åºæ–¹å‘ã€é›¶å€¼å¤„ç†ç­‰
- ğŸ¨ **ä¸»é¢˜æ”¯æŒ** - å®Œæ•´çš„æ˜æš—æ¨¡å¼å…¼å®¹ï¼Œè‡ªåŠ¨ä¸»é¢˜æ£€æµ‹
- ğŸŒ **å›½é™…åŒ–** - å®Œæ•´çš„ i18n æ”¯æŒï¼ˆè‹±æ–‡/ä¸­æ–‡ï¼‰
- ğŸ“± **å“åº”å¼è®¾è®¡** - é’ˆå¯¹æ‰€æœ‰å±å¹•å°ºå¯¸ä¼˜åŒ–
- âš¡ **æ€§èƒ½ä¼˜åŒ–** - ä½¿ç”¨ React Query å®ç°é«˜æ•ˆæ•°æ®è·å–
- ğŸ›¡ï¸ **é”™è¯¯å¤„ç†** - å…¨é¢çš„é”™è¯¯æŠ¥å‘Šå’Œç”¨æˆ·åé¦ˆ
- ğŸ”Œ **Teable é›†æˆ** - ä¸ Teable è¡¨æ ¼å’Œå­—æ®µçš„æ— ç¼é›†æˆ

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶
- **Next.js 14.2.14** - å¸¦ App Router çš„ React å…¨æ ˆæ¡†æ¶
- **React 18.2.0** - ç°ä»£åŒ– React åŠŸèƒ½çš„ UI åº“
- **TypeScript 5** - ç±»å‹å®‰å…¨çš„ JavaScript è¶…é›†ï¼ˆå¯ç”¨ä¸¥æ ¼æ¨¡å¼ï¼‰

### Teable ç”Ÿæ€
- `@teable/sdk` - æ’ä»¶æ¡¥æ¥å’Œ UI é…ç½®
- `@teable/openapi` - API å®¢æˆ·ç«¯å’Œç±»å‹å®šä¹‰
- `@teable/core` - æ ¸å¿ƒç±»å‹å®šä¹‰å’Œå·¥å…·
- `@teable/ui-lib` - Teable å®˜æ–¹ UI ç»„ä»¶åº“ï¼ˆåŸºäº shadcn/uiï¼‰
- `@teable/next-themes` - ä¸»é¢˜åˆ‡æ¢æ”¯æŒ

### UI å’Œæ ·å¼
- **Tailwind CSS 3.4.1** - åŸå­åŒ– CSS æ¡†æ¶ï¼Œä½¿ç”¨ Teable UI é…ç½®
- **Lucide React** - ç°ä»£åŒ–ç•Œé¢çš„å›¾æ ‡åº“

### çŠ¶æ€ç®¡ç†å’Œæ•°æ®
- `@tanstack/react-query 4.36.1` - æœåŠ¡ç«¯çŠ¶æ€ç®¡ç†ã€ç¼“å­˜å’ŒåŒæ­¥
- `react-i18next 14.1.0` - å›½é™…åŒ–æ¡†æ¶
- `i18next 23.10.1` - æ ¸å¿ƒå›½é™…åŒ–åº“

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Node.js 18+
- npm æˆ– yarn
- å…·æœ‰æ’ä»¶è®¿é—®æƒé™çš„ Teable è´¦æˆ·

### 1. å®‰è£…ä¾èµ–
```bash
npm install
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev -p 3001
```
è®¿é—® [http://localhost:3001](http://localhost:3001) æŸ¥çœ‹æ’ä»¶ã€‚

### 3. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
```

### 4. å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
```bash
npm start
```

### 5. ä»£ç è´¨é‡æ£€æŸ¥
```bash
npm run lint          # è¿è¡Œ ESLint
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ page.tsx                 # ä¸»åº”ç”¨å…¥å£ï¼ŒåŒ…å« i18n å’Œä¸»é¢˜è®¾ç½®
â”‚   â”œâ”€â”€ Main.tsx                 # ä¸»é¢˜å’Œ QueryClient é›†æˆ
â”‚   â”œâ”€â”€ layout.tsx               # æ ¹å¸ƒå±€ç»„ä»¶
â”‚   â””â”€â”€ globals.css              # å…¨å±€æ ·å¼å’Œ CSS å˜é‡
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ RankingPages.tsx         # ä¸»æ’åç•Œé¢ç»„ä»¶
â”‚   â”œâ”€â”€ ErrorBoundary.tsx        # é”™è¯¯è¾¹ç•Œç»„ä»¶
â”‚   â”œâ”€â”€ context/                 # React Context æä¾›è€…
â”‚   â”‚   â”œâ”€â”€ EnvProvider.tsx      # ç¯å¢ƒå˜é‡æ³¨å…¥
â”‚   â”‚   â”œâ”€â”€ I18nProvider.tsx     # å›½é™…åŒ–æä¾›è€…
â”‚   â”‚   â”œâ”€â”€ getQueryClient.ts    # QueryClient é…ç½®
â”‚   â”‚   â””â”€â”€ types.ts             # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ ranking/                 # æ’åç‰¹å®šç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ FieldSelector.tsx    # å­—æ®µé€‰æ‹©ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ GroupFieldSelector.tsx # åˆ†ç»„å­—æ®µé€‰æ‹©
â”‚   â”‚   â”œâ”€â”€ ViewSelector.tsx     # è§†å›¾é€‰æ‹©ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ RankingConfig.tsx    # æ’åé…ç½® UI
â”‚   â”‚   â”œâ”€â”€ RankingExecutor.tsx  # æ’åæ‰§è¡Œå¼•æ“
â”‚   â”‚   â”œâ”€â”€ RankingAlgorithms.ts # æ’åç®—æ³•å®ç°
â”‚   â”‚   â””â”€â”€ types.ts             # æ’åç±»å‹å®šä¹‰
â”‚   â””â”€â”€ ui/                      # UI å·¥å…·ç»„ä»¶
â”‚       â””â”€â”€ Icons.tsx            # å›¾æ ‡ç»„ä»¶
â”œâ”€â”€ hooks/                       # è‡ªå®šä¹‰ React Hooks
â”‚   â”œâ”€â”€ useInitApi.ts           # API åˆå§‹åŒ–
â”‚   â”œâ”€â”€ useFields.ts            # å­—æ®µæ•°æ®è·å–
â”‚   â”œâ”€â”€ useFieldMap.ts          # å­—æ®µæ˜ å°„å·¥å…·
â”‚   â”œâ”€â”€ useGlobalUrlParams.ts   # URL å‚æ•°ç®¡ç†
â”‚   â”œâ”€â”€ useToast.ts             # Toast é€šçŸ¥
â”‚   â”œâ”€â”€ useViewId.ts            # è§†å›¾ ID ç®¡ç†
â”‚   â””â”€â”€ useViews.ts             # è§†å›¾æ•°æ®è·å–
â”œâ”€â”€ lib/                         # ä¸šåŠ¡é€»è¾‘å’Œå·¥å…·
â”‚   â””â”€â”€ api.ts                  # API é…ç½®å’Œè®¤è¯
â”œâ”€â”€ types/                       # å…¨å±€ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ index.ts                # ç±»å‹å¯¼å‡º
â”œâ”€â”€ locales/                     # å›½é™…åŒ–æ–‡ä»¶
â”‚   â”œâ”€â”€ en.json                 # è‹±æ–‡ç¿»è¯‘
â”‚   â””â”€â”€ zh.json                 # ä¸­æ–‡ç¿»è¯‘
â””â”€â”€ image/                       # é™æ€å›¾ç‰‡èµ„æº
    â””â”€â”€ 20251120012132_rec_.gif # åŠŸèƒ½æ¼”ç¤º GIF
```

## ğŸ”§ é…ç½®

### æ’ä»¶å‚æ•°
æ’ä»¶é€šè¿‡ `EnvProvider.tsx` ä» URL å‚æ•°è¯»å–é…ç½®ï¼š

- `baseId` - Teable åŸºç¡€æ ‡è¯†ç¬¦
- `pluginId` - æ’ä»¶æ ‡è¯†ç¬¦
- `pluginInstallId` - æ’ä»¶å®‰è£… ID
- `tableId` - æ’åæ“ä½œçš„ç›®æ ‡è¡¨æ ¼
- `shareId`, `positionId`, `positionType` - UI å®šä½
- `lang`, `theme` - æœ¬åœ°åŒ–å’Œä¸»é¢˜è®¾ç½®

### æ’åé…ç½®

æ’ä»¶æ”¯æŒä»¥ä¸‹æ’åé…ç½®ï¼š

#### æ’åæ–¹æ³•
- **æ ‡å‡†æ’å**: `1, 2, 2, 4` - æ ‡å‡†ç«äº‰æ’åï¼Œæœ‰é—´éš™
- **å¯†é›†æ’å**: `1, 2, 2, 3` - å¯†é›†æ’åï¼Œæ— é—´éš™

#### é›¶å€¼å¤„ç†
- **è·³è¿‡é›¶å€¼**: æ’åè®¡ç®—ä¸­å¿½ç•¥é›¶å€¼
- **åŒ…å«é›¶å€¼**: æ’åè®¡ç®—ä¸­åŒ…å«é›¶å€¼

#### åˆ†ç»„
- **ä¸åˆ†ç»„**: è·¨æ‰€æœ‰è®°å½•è®¡ç®—æ’å
- **åŸºäºåˆ†ç»„**: åœ¨æŒ‡å®šåˆ†ç»„å†…è®¡ç®—æ’å

## ğŸ¨ æ ·å¼å’Œä¸»é¢˜

### CSS æ¶æ„
- **CSS å˜é‡** - ä½¿ç”¨ HSL é¢œè‰²å€¼çš„å®Œæ•´ä¸»é¢˜ç³»ç»Ÿ
- **å“åº”å¼è®¾è®¡** - ç§»åŠ¨ä¼˜å…ˆçš„æ–¹æ³•ï¼Œå¸¦æ–­ç‚¹
- **ç»„ä»¶éš”ç¦»** - è‡ªå®šä¹‰ç»„ä»¶çš„ä½œç”¨åŸŸæ ·å¼
- **æš—è‰²æ¨¡å¼æ”¯æŒ** - è‡ªåŠ¨ä¸»é¢˜æ£€æµ‹å’Œåˆ‡æ¢

### UI ç»„ä»¶
- **Shadcn/ui ç»„ä»¶** - ç°ä»£ã€å¯è®¿é—®çš„ UI ç»„ä»¶
- **Teable UI é›†æˆ** - ä¸ Teable è®¾è®¡ç³»ç»Ÿä¿æŒä¸€è‡´
- **è¡¨å•æ§ä»¶** - æ’åé…ç½®çš„è‡ªå®šä¹‰è¡¨å•å…ƒç´ 

## ğŸŒ å›½é™…åŒ–

æ”¯æŒçš„è¯­è¨€ï¼š
- è‹±æ–‡ (en)
- ä¸­æ–‡ (zh)

### æ·»åŠ æ–°è¯­è¨€
1. åœ¨ `src/locales/[lang].json` åˆ›å»ºç¿»è¯‘æ–‡ä»¶
2. æ›´æ–° `I18nProvider.tsx` èµ„æºé…ç½®
3. å‘ç»„ä»¶æ·»åŠ ç‰¹å®šè¯­è¨€çš„å†…å®¹

## ğŸ”Œ Teable é›†æˆ

### æ’ä»¶æ¡¥æ¥ä½¿ç”¨
```typescript
import { usePluginBridge } from '@teable/sdk';

const bridge = usePluginBridge();

// ç›‘å¬é…ç½®å˜åŒ–
bridge.on('syncUIConfig', handleConfigChange);

// è·å–ä¸´æ—¶ä»¤ç‰Œç”¨äº API è°ƒç”¨
const token = await bridge.getSelfTempToken();
```

### API é›†æˆ
æ’ä»¶ä½¿ç”¨ Teable çš„ OpenAPIï¼Œè‡ªåŠ¨èº«ä»½éªŒè¯ï¼š
```typescript
import { openApi } from '@teable/openapi';

// æ‰€æœ‰ API è°ƒç”¨éƒ½è‡ªåŠ¨èº«ä»½éªŒè¯
const fields = await openApi.getFields(tableId);
const records = await openApi.getTableRecords(tableId, viewId);
```

## ğŸ† æ’åç®—æ³•

æ’ä»¶å®ç°äº†ä¸¤ç§æ’åç®—æ³•ï¼š

### æ ‡å‡†æ’å
```typescript
// ç¤ºä¾‹: æ•°å€¼ [10, 20, 20, 30] â†’ æ’å [1, 2, 2, 4]
// æ ‡å‡†ç«äº‰æ’åï¼Œæœ‰é—´éš™
```

### å¯†é›†æ’å
```typescript
// ç¤ºä¾‹: æ•°å€¼ [10, 20, 20, 30] â†’ æ’å [1, 2, 2, 3]
// å¯†é›†æ’åï¼Œæ— é—´éš™
```

## ğŸ¤ è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/amazing-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -m 'Add amazing feature'`
4. æ¨é€åˆ°åˆ†æ”¯ï¼š`git push origin feature/amazing-feature`
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åœ¨ MIT è®¸å¯è¯ä¸‹å‘å¸ƒ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚